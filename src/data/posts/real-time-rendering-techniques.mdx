---
title: "实时渲染技术"
date: "2024-08-14"
summary: "现代游戏引擎中使用的常见实时渲染技术概述，从前向渲染和延迟渲染到 PBR。"
tags: ["渲染", "性能优化"]
---

# 实时渲染技术

驱动现代游戏的渲染技术简要概述。

## 前向渲染 vs. 延迟渲染

- **前向渲染**：传统方法，在单次遍历中渲染和着色每个对象。它简单易用，与透明度配合良好，但在有很多灯光时可能会变慢。

- **延迟渲染**：两遍技术。第一遍将场景几何体渲染到 G 缓冲区（存储位置、法线和反照率等属性）。第二遍使用这些信息来计算光照。这对于有很多动态灯光的场景非常高效。

## 基于物理的渲染 (PBR)

PBR 是一种以更符合物理规律的方式建模光行为的渲染方法。关键概念包括：

- **金属度**：表面表现得像金属的程度。
- **粗糙度/光滑度**：表面的粗糙或光滑程度，这会影响光的反射方式。
- **反照率**：表面的基本颜色。

```glsl
// 简化的 PBR 片段着色器
void main()
{
    vec3 albedo = texture(albedoMap, fs_in.TexCoords).rgb;
    float metallic = texture(metallicMap, fs_in.TexCoords).r;
    float roughness = texture(roughnessMap, fs_in.TexCoords).r;

    // ... 光照计算 ...
}
```